<!DOCTYPE html>
<html class="has-navbar-fixed-top">
<head>
    <meta charset="utf-8">
    <title>
        
ods-maps Tricks &ndash; Codelibrary

    </title>

    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-41201218-21"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-41201218-21');
    </script>

    
    

    
    
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.5.0/themes/prism.min.css"/>
    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/instantsearch.css@7.3.1/themes/algolia-min.css"
          integrity="sha256-HB49n/BZjuqiCtQQf49OdZn63XuKFaxcIHWf0HNKte8="
          crossorigin="anonymous">

    
    <link rel="stylesheet"
          type="text/css"
          href="/scss/main.css" />
    <link rel="icon"
          type="image/png"
          sizes="32x32"
          href="/favicon-32x32.png">
    <link rel="icon"
          type="image/png"
          sizes="16x16"
          href="/favicon-16x16.png">
    <link rel="shortcut icon"
          href="/favicon.ico">
</head>

<body>

<nav class="navbar is-fixed-top"
     role="navigation"
     aria-label="Main navigation">
    <div class="navbar-brand">
        <a class="navbar-item"
           href="/"
           title="Back to the homepage">
            <img src="/img/ods-logo-helphub.svg"
                 alt="Helphub Logo"/>
        </a>
        <button class="navbar-burger burger"
                type="button"
                data-target="helphubNavbar"
                aria-controls="helphubNavbar"
                aria-expanded="false"
                aria-label="Menu">
            Help Hub
        </button>
    </div>
    <div class="navbar-menu"
         id="helphubNavbar">
        <div class="navbar-start">
            <a class="navbar-item"
               href="https://help.opendatasoft.com/">
                Help Hub
            </a>
            <a class="navbar-item"
               href="https://help.opendatasoft.com/platform/en/">
                User guide
            </a>
            <a class="navbar-item is-active"
               href="https://discovery.opendatasoft.com">
                Code Library
            </a>
            <a class="navbar-item"
               href="https://help.opendatasoft.com/faq-glossary/en/">
                FAQ
            </a>
            <a class="navbar-item"
               href="https://help.opendatasoft.com/widgets/">
                Widgets
            </a>
            <a class="navbar-item"
               href="https://help.opendatasoft.com/en/apis/">
                APIs
            </a>
            <a class="navbar-item"
               href="https://academy.opendatasoft.com/page/homepage">
                Academy
            </a>
        </div>
    </div>
</nav>

<div class="columns codelibrary">
    <div class="column is-narrow">
        <aside class="sidebar menu">
    <a href="https://codelibrary.opendatasoft.com"
       class="sidebar-logo-link"
       title="Go to Codelibrary homepage">
        <img src="/img/ods-codelibrary-logo.svg"
             class="sidebar-logo"
             alt="Codelibrary Logo">
    </a>

    <div id="algolia-box"></div>
    <div id="algolia-results"></div>

    
    <ul class="menu-list">
        <li>
            <a class="sidebar-subtitle"
               href="https://codelibrary.opendatasoft.com">
                Home
            </a>
        </li>
        
        
        <li>
            <a href="/components/"
               class="sidebar-subtitle">
                Components
            </a>
        </li>
        
        
        
        <li>
            <a href="/page-templates/"
               class="sidebar-subtitle">
                Page templates
            </a>
        </li>
        
        
        
        <li>
            <a href="/portal-themes/"
               class="sidebar-subtitle">
                Portal themes
            </a>
        </li>
        
        
        
        <li>
            <a class="sidebar-subtitle " href="/widget-tricks/">
            Widget tricks
            </a>
            <ul>
                
                <li>
                    <a class="" href="https://codelibrary.opendatasoft.com/widget-tricks/catalog-cards/">Catalog cards</a>
                </li>
                
                <li>
                    <a class="" href="https://codelibrary.opendatasoft.com/widget-tricks/svg-maps/">SVG Maps</a>
                </li>
                
                <li>
                    <a class="" href="https://codelibrary.opendatasoft.com/widget-tricks/custom-tooltip/">Custom tooltip</a>
                </li>
                
                <li>
                    <a class="" href="https://codelibrary.opendatasoft.com/widget-tricks/dates/">Dates</a>
                </li>
                
                <li>
                    <a class="" href="https://codelibrary.opendatasoft.com/widget-tricks/drill-down/">Drill-down chart</a>
                </li>
                
                <li>
                    <a class="" href="https://codelibrary.opendatasoft.com/widget-tricks/ods-aggregation/">ods-aggregation</a>
                </li>
                
                <li>
                    <a class="" href="https://codelibrary.opendatasoft.com/widget-tricks/ods-analysis/">ods-analysis</a>
                </li>
                
                <li>
                    <a class="" href="https://codelibrary.opendatasoft.com/widget-tricks/ods-color-gradient/">ods-color-gradient &amp; ods-legend</a>
                </li>
                
                <li>
                    <a class="is-active" href="https://codelibrary.opendatasoft.com/widget-tricks/ods-map-tricks/">ods-maps Tricks</a>
                </li>
                
            </ul>
        </li>
        
        
    </ul>
    <p class="menu-label">
        Tags
    </p>
    <div class="tags">
        
        <a class="tag" href="https://codelibrary.opendatasoft.com/tags/aggregation/">
            aggregation
        </a>
        
        <a class="tag" href="https://codelibrary.opendatasoft.com/tags/chart/">
            chart
        </a>
        
        <a class="tag" href="https://codelibrary.opendatasoft.com/tags/date/">
            date
        </a>
        
        <a class="tag" href="https://codelibrary.opendatasoft.com/tags/display/">
            display
        </a>
        
        <a class="tag" href="https://codelibrary.opendatasoft.com/tags/filter/">
            filter
        </a>
        
        <a class="tag" href="https://codelibrary.opendatasoft.com/tags/geo/">
            geo
        </a>
        
        <a class="tag" href="https://codelibrary.opendatasoft.com/tags/list/">
            list
        </a>
        
        <a class="tag" href="https://codelibrary.opendatasoft.com/tags/map/">
            map
        </a>
        
        <a class="tag" href="https://codelibrary.opendatasoft.com/tags/navigation/">
            navigation
        </a>
        
        <a class="tag" href="https://codelibrary.opendatasoft.com/tags/ods-aggregation/">
            ods-aggregation
        </a>
        
        <a class="tag" href="https://codelibrary.opendatasoft.com/tags/ods-analysis/">
            ods-analysis
        </a>
        
        <a class="tag" href="https://codelibrary.opendatasoft.com/tags/ods-maps/">
            ods-maps
        </a>
        
    </div>
</aside>

    </div>
    <div class="column">
        

<section>
    <div class="content-header container is-max-desktop mb-5">
        <div class="content">
            <h1 class="title" id="ods-maps-tricks">
  ods-maps tricks
  
</h1>

        </div>
    </div>
    
    <div class="container">
        <div class="box box-example">
          <div class="content">
            <h2 class="title" id="map-as-a-selector">
  Map as a selector
  
    <a class="is-link" href="#map-as-a-selector">
      <img src="/img/fas-link.svg" />
    </a>
  
</h2>
<p>In this example, the french administrative regions are displayed first and the user click refines on the departments dataset. On the right section you can observe the applied filter on departments context and the list of departments returned. The &lsquo;regions&rsquo; context is not affected and is not filtered. Note that it would also be possible to apply the filter on regions context, to do so, please have a look to the next resource of this page.</p>
<p><em>If your layer is displayed as raw or aggregation, you can configure a layer so that a click on an item triggers a refine on another context, using <strong>refineOnClickContext</strong>. One or more contexts can be defined:</em></p>

          </div>
          


<div class="codepen">
    
    
    

    <form id="form-ods-maps-tricks-1"
          action="https://codepen.io/pen/define"
          method="POST"
          target="_blank">
        <input type="hidden"
               name="data"
               value='{
               "title": "New Pen!",
               "head": &#34;\u003clink rel=\&#34;stylesheet\&#34; href=\&#34;https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css\&#34;\u003e\n\u003clink rel=\&#34;stylesheet\&#34; href=\&#34;https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css\&#34;\u003e\n\u003clink rel=\&#34;stylesheet\&#34; href=\&#34;https://static.opendatasoft.com/ods-widgets/latest/ods-widgets.css\&#34;\u003e\n\n\u003c!-- ODS Platform CSS - must be hosted on static : WIP --\u003e\n\u003clink rel=\&#34;stylesheet\&#34; href=\&#34;https://s3-us-west-2.amazonaws.com/s.cdpn.io/4124551/ods.css\&#34;\u003e\n\u003clink rel=\&#34;stylesheet\&#34; href=\&#34;/css/theme.css\&#34;\u003e\n\n\u003cscript src=\&#34;https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js\&#34;\u003e\u003c/script\u003e\n\u003cscript src=\&#34;https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.4.7/angular.js\&#34;\u003e\u003c/script\u003e\n\u003cscript src=\&#34;https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.4.7/angular-sanitize.min.js\&#34;\u003e\u003c/script\u003e\n\u003cscript src=\&#34;https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.4.7/i18n/angular-locale_fr-fr.js\&#34;\u003e\u003c/script\u003e\n\u003cscript type=\&#34;text/javascript\&#34; src=\&#34;https://static.opendatasoft.com/ods-widgets/latest/ods-widgets.js\&#34;\u003e\u003c/script\u003e\n\n\u003cscript type=\&#34;text/javascript\&#34; src=\&#34;/js/platform-filters.js\&#34;\u003e\u003c/script\u003e\n\u003cscript type=\&#34;text/javascript\&#34; src=\&#34;/js/ods-catalog-card.js\&#34;\u003e\u003c/script\u003e\n\n\u003cscript type=\&#34;text/javascript\&#34;\u003e\n    angular.module(&#39;ods-widgets&#39;).config(function(ODSWidgetsConfigProvider) {\n        ODSWidgetsConfigProvider.setConfig({\n            \&#34;basemaps\&#34;: [\n                {\n                    \&#34;provider\&#34;: \&#34;jawg.light\&#34;,\n                    \&#34;label\&#34;: \&#34;Jawg Light\&#34;,\n                    \&#34;jawg_apikey\&#34;: \&#34;opendatasoft-community\&#34;\n                }\n            ],\n            \&#34;mapPrependAttribution\&#34;: \&#34;Jawg apikey NOT suitable for production\&#34;\n        });\n    });\n\u003c/script\u003e\n\n\u003cscript type=\&#34;text/javascript\&#34;\u003e\n    document.addEventListener(\&#34;DOMContentLoaded\&#34;, function() {\n        document.querySelectorAll(&#39;a[href=\&#34;#\&#34;]&#39;).forEach((el) =\u003e {\n            el.addEventListener(&#39;click&#39;, (event) =\u003e {\n                event.preventDefault();\n            });\n        })\n    });\n\u003c/script\u003e\n&#34;,
               "editors": 110,
               "html": &#34;\u003cdiv ng-app=\&#34;ods-widgets\&#34;\u003e\n\u003cdiv class=\&#34;row ods-box\&#34;\u003e\n    \u003cods-dataset-context context=\&#34;regions,depts\&#34;\n                         regions-dataset=\&#34;regions-et-collectivites-doutre-mer-france\&#34;\n                         regions-domain=\&#34;userclub\&#34;\n                         depts-dataset=\&#34;departements-et-collectivites-doutre-mer-france\&#34;\n                         depts-domain=\&#34;userclub\&#34;\u003e\n        \u003cdiv class=\&#34;col-md-8\&#34;\u003e\n            \u003cods-map style=\&#34;height:560px\&#34; scroll-wheel-zoom=\&#34;false\&#34;\u003e\n                \u003cods-map-layer context=\&#34;regions\&#34;\n                               refine-on-click-context=\&#34;depts\&#34;\n                               refine-on-click-depts-map-field=\&#34;reg_code\&#34;\n                               refine-on-click-depts-context-field=\&#34;reg_code\&#34;\n                               refine-on-click-depts-replace-refine=\&#34;true\&#34;\n                               color=\&#34;#3D3D3D\&#34;\u003e\n                \u003c/ods-map-layer\u003e\n            \u003c/ods-map\u003e\n        \u003c/div\u003e\n        \u003cdiv class=\&#34;col-md-4\&#34;\u003e\n            \u003cdiv ng-if=\&#34;!depts.parameters[&#39;refine.reg_code&#39;]\&#34;\u003e\n                \u003ch3 style=\&#34;font-weight:600; margin-top: 40px\&#34;\u003e\n                    Selectionnez une région sur la carte\n                \u003c/h3\u003e\n            \u003c/div\u003e\n            \u003cdiv ng-if=\&#34;depts.parameters[&#39;refine.reg_code&#39;]\&#34;\u003e\n                  \u003cspan class=\&#34;ods-button\&#34; ng-click=\&#34;depts.parameters = {};\&#34;\u003e\n                      Supprimer le filtre\n                  \u003c/span\u003e\n                \u003ch3\u003eFiltre actif : code_reg = {{ depts.parameters[&#39;refine.reg_code&#39;] }}\n                \u003c/h3\u003e\n                \u003ch2\u003e\n                    Liste des départements\n                \u003c/h2\u003e\n                \u003ch4 ng-repeat=\&#34;item in items\&#34; ods-results=\&#34;items\&#34; ods-results-context=\&#34;depts\&#34;\u003e\n                    {{ item.fields.dep_name }}\n                \u003c/h4\u003e\n            \u003c/div\u003e\n        \u003c/div\u003e\n    \u003c/ods-dataset-context\u003e\n\u003c/div\u003e\n\u003c/div\u003e&#34;,
               "css": &#34;&#34; }'>
    </form>
</div>

<div class="ods-content">
    <section class="box box-live-example">
        <iframe id="iframe-ods-maps-tricks-1"
                width="100%" height="100%"
                src="about:blank"
                srcdoc="
          <head>&lt;link rel=&#34;stylesheet&#34; href=&#34;https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css&#34;&gt;
&lt;link rel=&#34;stylesheet&#34; href=&#34;https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css&#34;&gt;
&lt;link rel=&#34;stylesheet&#34; href=&#34;https://static.opendatasoft.com/ods-widgets/latest/ods-widgets.css&#34;&gt;

&lt;!-- ODS Platform CSS - must be hosted on static : WIP --&gt;
&lt;link rel=&#34;stylesheet&#34; href=&#34;https://s3-us-west-2.amazonaws.com/s.cdpn.io/4124551/ods.css&#34;&gt;
&lt;link rel=&#34;stylesheet&#34; href=&#34;/css/theme.css&#34;&gt;

&lt;script src=&#34;https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.4.7/angular.js&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.4.7/angular-sanitize.min.js&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.4.7/i18n/angular-locale_fr-fr.js&#34;&gt;&lt;/script&gt;
&lt;script type=&#34;text/javascript&#34; src=&#34;https://static.opendatasoft.com/ods-widgets/latest/ods-widgets.js&#34;&gt;&lt;/script&gt;

&lt;script type=&#34;text/javascript&#34; src=&#34;/js/platform-filters.js&#34;&gt;&lt;/script&gt;
&lt;script type=&#34;text/javascript&#34; src=&#34;/js/ods-catalog-card.js&#34;&gt;&lt;/script&gt;

&lt;script type=&#34;text/javascript&#34;&gt;
    angular.module(&#39;ods-widgets&#39;).config(function(ODSWidgetsConfigProvider) {
        ODSWidgetsConfigProvider.setConfig({
            &#34;basemaps&#34;: [
                {
                    &#34;provider&#34;: &#34;jawg.light&#34;,
                    &#34;label&#34;: &#34;Jawg Light&#34;,
                    &#34;jawg_apikey&#34;: &#34;opendatasoft-community&#34;
                }
            ],
            &#34;mapPrependAttribution&#34;: &#34;Jawg apikey NOT suitable for production&#34;
        });
    });
&lt;/script&gt;

&lt;script type=&#34;text/javascript&#34;&gt;
    document.addEventListener(&#34;DOMContentLoaded&#34;, function() {
        document.querySelectorAll(&#39;a[href=&#34;#&#34;]&#39;).forEach((el) =&gt; {
            el.addEventListener(&#39;click&#39;, (event) =&gt; {
                event.preventDefault();
            });
        })
    });
&lt;/script&gt;

          </head>
          <body>
          <div ng-app='ods-widgets'>
              &lt;div class=&#34;row ods-box&#34;&gt;
    &lt;ods-dataset-context context=&#34;regions,depts&#34;
                         regions-dataset=&#34;regions-et-collectivites-doutre-mer-france&#34;
                         regions-domain=&#34;userclub&#34;
                         depts-dataset=&#34;departements-et-collectivites-doutre-mer-france&#34;
                         depts-domain=&#34;userclub&#34;&gt;
        &lt;div class=&#34;col-md-8&#34;&gt;
            &lt;ods-map style=&#34;height:560px&#34; scroll-wheel-zoom=&#34;false&#34;&gt;
                &lt;ods-map-layer context=&#34;regions&#34;
                               refine-on-click-context=&#34;depts&#34;
                               refine-on-click-depts-map-field=&#34;reg_code&#34;
                               refine-on-click-depts-context-field=&#34;reg_code&#34;
                               refine-on-click-depts-replace-refine=&#34;true&#34;
                               color=&#34;#3D3D3D&#34;&gt;
                &lt;/ods-map-layer&gt;
            &lt;/ods-map&gt;
        &lt;/div&gt;
        &lt;div class=&#34;col-md-4&#34;&gt;
            &lt;div ng-if=&#34;!depts.parameters[&#39;refine.reg_code&#39;]&#34;&gt;
                &lt;h3 style=&#34;font-weight:600; margin-top: 40px&#34;&gt;
                    Selectionnez une région sur la carte
                &lt;/h3&gt;
            &lt;/div&gt;
            &lt;div ng-if=&#34;depts.parameters[&#39;refine.reg_code&#39;]&#34;&gt;
                  &lt;span class=&#34;ods-button&#34; ng-click=&#34;depts.parameters = {};&#34;&gt;
                      Supprimer le filtre
                  &lt;/span&gt;
                &lt;h3&gt;Filtre actif : code_reg = {{ depts.parameters[&#39;refine.reg_code&#39;] }}
                &lt;/h3&gt;
                &lt;h2&gt;
                    Liste des départements
                &lt;/h2&gt;
                &lt;h4 ng-repeat=&#34;item in items&#34; ods-results=&#34;items&#34; ods-results-context=&#34;depts&#34;&gt;
                    {{ item.fields.dep_name }}
                &lt;/h4&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/ods-dataset-context&gt;
&lt;/div&gt;

          </div>
          <style type='text/css'>
              
          </style>
          </body>
          ">
        </iframe>
    </section>

    <section class="box box-code js-tabs">
        <nav class="level">
            <div class="level-left">
                <div class="level-item">
                    <ul class="buttons has-addons js-tablist">
                        <li class="button is-primary is-outlined js-tablist__item">
                            <a class="js-tablist__link"
                               href="#code-ods-maps-tricks-1-html-content">
                                HTML
                            </a>
                        </li>
                        <li class="button is-primary is-outlined js-tablist__item">
                            <a class="js-tablist__link"
                               href="#code-ods-maps-tricks-1-css-content">
                                CSS
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="level-right">
                <a class="button is-primary is-outlined edit-on-codepen"
                   target="_blank"
                   aria-role="link"
                   rel="noopener"
                   title="Edit on CodePen, open a new tab"
                   onclick="document.getElementById('form-ods-maps-tricks-1').submit()">
                    Edit on CodePen
                </a>
            </div>
        </nav>


        <div class="tab-content">
            <div class="js-tabcontent"
                 id="code-ods-maps-tricks-1-html-content">
                <div class="highlight">
                    <pre class="language-html" data-lang="html"><code>&lt;div class=&#34;row ods-box&#34;&gt;
    &lt;ods-dataset-context context=&#34;regions,depts&#34;
                         regions-dataset=&#34;regions-et-collectivites-doutre-mer-france&#34;
                         regions-domain=&#34;userclub&#34;
                         depts-dataset=&#34;departements-et-collectivites-doutre-mer-france&#34;
                         depts-domain=&#34;userclub&#34;&gt;
        &lt;div class=&#34;col-md-8&#34;&gt;
            &lt;ods-map style=&#34;height:560px&#34; scroll-wheel-zoom=&#34;false&#34;&gt;
                &lt;ods-map-layer context=&#34;regions&#34;
                               refine-on-click-context=&#34;depts&#34;
                               refine-on-click-depts-map-field=&#34;reg_code&#34;
                               refine-on-click-depts-context-field=&#34;reg_code&#34;
                               refine-on-click-depts-replace-refine=&#34;true&#34;
                               color=&#34;#3D3D3D&#34;&gt;
                &lt;/ods-map-layer&gt;
            &lt;/ods-map&gt;
        &lt;/div&gt;
        &lt;div class=&#34;col-md-4&#34;&gt;
            &lt;div ng-if=&#34;!depts.parameters[&#39;refine.reg_code&#39;]&#34;&gt;
                &lt;h3 style=&#34;font-weight:600; margin-top: 40px&#34;&gt;
                    Selectionnez une région sur la carte
                &lt;/h3&gt;
            &lt;/div&gt;
            &lt;div ng-if=&#34;depts.parameters[&#39;refine.reg_code&#39;]&#34;&gt;
                  &lt;span class=&#34;ods-button&#34; ng-click=&#34;depts.parameters = {};&#34;&gt;
                      Supprimer le filtre
                  &lt;/span&gt;
                &lt;h3&gt;Filtre actif : code_reg = {{ depts.parameters[&#39;refine.reg_code&#39;] }}
                &lt;/h3&gt;
                &lt;h2&gt;
                    Liste des départements
                &lt;/h2&gt;
                &lt;h4 ng-repeat=&#34;item in items&#34; ods-results=&#34;items&#34; ods-results-context=&#34;depts&#34;&gt;
                    {{ item.fields.dep_name }}
                &lt;/h4&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/ods-dataset-context&gt;
&lt;/div&gt;
</code></pre>
                </div>
            </div>
            <div class="js-tabcontent"
                 id="code-ods-maps-tricks-1-css-content">
                <div class="highlight">
                    <pre class="language-css" data-lang="css"><code></code></pre>
                </div>
            </div>
        </div>
    </section>
</div>

<script type="text/javascript">
    window.addEventListener("DOMContentLoaded", () => {
        var loopId = setInterval(() => {
            iframeId = "iframe-ods-maps-tricks-1";
            iframe = document.getElementById(iframeId);
             
            size =  null 
             
            if (iframe != undefined && iframe.contentWindow.document.body != undefined){
                scrollHeight = parseInt(iframe.contentWindow.document.body.scrollHeight);
                if (iframe.height == size) {
                    clearInterval(loopId);
                } else {
                    iframe.height = size > 1 ? size : scrollHeight;
                }
            }
        }, 1000);
    });
</script>

        </div>
    </div>
    
    <div class="container">
        <div class="box box-example">
          <div class="content">
            <h2 class="title" id="map-drilldown">
  Map drilldown
  
    <a class="is-link" href="#map-drilldown">
      <img src="/img/fas-link.svg" />
    </a>
  
</h2>
<p>In this example, the french administrative regions are displayed first, the user click refines on both regions and departments datasets and will then display departments in the selected region. Another click on a departement will refine departements and cities datasets and display cities in this department.</p>
<p><em>If your layer is displayed as <strong>raw</strong> or <strong>aggregation</strong>, you can configure a layer so that a click on an item triggers a refine on another context, using refineOnClickContext. One or more contexts can be defined:</em></p>

          </div>
          


<div class="codepen">
    
    
    

    <form id="form-ods-maps-tricks-2"
          action="https://codepen.io/pen/define"
          method="POST"
          target="_blank">
        <input type="hidden"
               name="data"
               value='{
               "title": "New Pen!",
               "head": &#34;\u003clink rel=\&#34;stylesheet\&#34; href=\&#34;https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css\&#34;\u003e\n\u003clink rel=\&#34;stylesheet\&#34; href=\&#34;https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css\&#34;\u003e\n\u003clink rel=\&#34;stylesheet\&#34; href=\&#34;https://static.opendatasoft.com/ods-widgets/latest/ods-widgets.css\&#34;\u003e\n\n\u003c!-- ODS Platform CSS - must be hosted on static : WIP --\u003e\n\u003clink rel=\&#34;stylesheet\&#34; href=\&#34;https://s3-us-west-2.amazonaws.com/s.cdpn.io/4124551/ods.css\&#34;\u003e\n\u003clink rel=\&#34;stylesheet\&#34; href=\&#34;/css/theme.css\&#34;\u003e\n\n\u003cscript src=\&#34;https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js\&#34;\u003e\u003c/script\u003e\n\u003cscript src=\&#34;https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.4.7/angular.js\&#34;\u003e\u003c/script\u003e\n\u003cscript src=\&#34;https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.4.7/angular-sanitize.min.js\&#34;\u003e\u003c/script\u003e\n\u003cscript src=\&#34;https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.4.7/i18n/angular-locale_fr-fr.js\&#34;\u003e\u003c/script\u003e\n\u003cscript type=\&#34;text/javascript\&#34; src=\&#34;https://static.opendatasoft.com/ods-widgets/latest/ods-widgets.js\&#34;\u003e\u003c/script\u003e\n\n\u003cscript type=\&#34;text/javascript\&#34; src=\&#34;/js/platform-filters.js\&#34;\u003e\u003c/script\u003e\n\u003cscript type=\&#34;text/javascript\&#34; src=\&#34;/js/ods-catalog-card.js\&#34;\u003e\u003c/script\u003e\n\n\u003cscript type=\&#34;text/javascript\&#34;\u003e\n    angular.module(&#39;ods-widgets&#39;).config(function(ODSWidgetsConfigProvider) {\n        ODSWidgetsConfigProvider.setConfig({\n            \&#34;basemaps\&#34;: [\n                {\n                    \&#34;provider\&#34;: \&#34;jawg.light\&#34;,\n                    \&#34;label\&#34;: \&#34;Jawg Light\&#34;,\n                    \&#34;jawg_apikey\&#34;: \&#34;opendatasoft-community\&#34;\n                }\n            ],\n            \&#34;mapPrependAttribution\&#34;: \&#34;Jawg apikey NOT suitable for production\&#34;\n        });\n    });\n\u003c/script\u003e\n\n\u003cscript type=\&#34;text/javascript\&#34;\u003e\n    document.addEventListener(\&#34;DOMContentLoaded\&#34;, function() {\n        document.querySelectorAll(&#39;a[href=\&#34;#\&#34;]&#39;).forEach((el) =\u003e {\n            el.addEventListener(&#39;click&#39;, (event) =\u003e {\n                event.preventDefault();\n            });\n        })\n    });\n\u003c/script\u003e\n&#34;,
               "editors": 110,
               "html": &#34;\u003cdiv ng-app=\&#34;ods-widgets\&#34;\u003e\n\u003cdiv class=\&#34;row ods-box\&#34;\u003e\n    \u003cods-dataset-context context=\&#34;regions,depts,comm\&#34;\n                         regions-domain=\&#34;userclub\&#34;\n                         regions-dataset=\&#34;regions-et-collectivites-doutre-mer-france\&#34;\n                         depts-domain=\&#34;userclub\&#34;\n                         depts-dataset=\&#34;departements-et-collectivites-doutre-mer-france\&#34;\n                         comm-domain=\&#34;userclub\&#34;\n                         comm-dataset=\&#34;communes-et-arrondissements-municipaux-france\&#34;\u003e\n        \u003cdiv class=\&#34;col-md-8\&#34;\u003e\n            \u003cods-map style=\&#34;height:560px\&#34; scroll-wheel-zoom=\&#34;false\&#34;\u003e\n                \u003cods-map-layer context=\&#34;regions\&#34;\n                               refine-on-click-context=\&#34;[regions,depts]\&#34;\n                               refine-on-click-regions-map-field=\&#34;reg_code\&#34;\n                               refine-on-click-regions-context-field=\&#34;reg_code\&#34;\n                               refine-on-click-depts-map-field=\&#34;reg_code\&#34;\n                               refine-on-click-depts-context-field=\&#34;reg_code\&#34;\n                               color=\&#34;#3D3D3D\&#34;\n                               show-if=\&#34;!regions.parameters[&#39;refine.reg_code&#39;]\&#34;\u003e\n                \u003c/ods-map-layer\u003e\n                \u003cods-map-layer context=\&#34;depts\&#34;\n                               refine-on-click-context=\&#34;[depts,comm]\&#34;\n                               refine-on-click-depts-map-field=\&#34;dep_code\&#34;\n                               refine-on-click-depts-context-field=\&#34;dep_code\&#34;\n                               refine-on-click-comm-map-field=\&#34;dep_code\&#34;\n                               refine-on-click-comm-context-field=\&#34;dep_code\&#34;\n                               color=\&#34;#3D3D3D\&#34;\n                               show-if=\&#34;depts.parameters[&#39;refine.reg_code&#39;] \u0026\u0026 !comm.parameters[&#39;refine.dep_code&#39;]\&#34;\u003e\n                \u003c/ods-map-layer\u003e\n                \u003cods-map-layer context=\&#34;comm\&#34;\n                               show-if=\&#34;comm.parameters[&#39;refine.dep_code&#39;]\&#34;\u003e\n                \u003c/ods-map-layer\u003e\n            \u003c/ods-map\u003e\n        \u003c/div\u003e\n        \u003cdiv class=\&#34;col-md-4\&#34;\u003e\n              \u003cspan class=\&#34;ods-button\&#34; ng-click=\&#34;comm.parameters = {}; depts.parameters = {}; regions.parameters = {};\&#34;\u003e\n                  Supprimer tous les filtres\n              \u003c/span\u003e\n            \u003ch2\u003e\n                Jeu de données région\n            \u003c/h2\u003e\n            \u003ch4\u003e\n                \u003cspan ng-if=\&#34;!regions.parameters[&#39;refine.reg_code&#39;]\&#34;\u003eAucun filtre actif\u003c/span\u003e\n                \u003cspan ng-if=\&#34;regions.parameters[&#39;refine.reg_code&#39;]\&#34;\u003eFiltre actif : reg_code = {{ regions.parameters[&#39;refine.reg_code&#39;] }}\u003c/span\u003e\n            \u003c/h4\u003e\n            \u003ch2\u003e\n                Jeu de données département\n            \u003c/h2\u003e\n            \u003ch4\u003e\n                \u003cspan ng-if=\&#34;!(depts.parameters[&#39;refine.dep_code&#39;] || depts.parameters[&#39;refine.reg_code&#39;])\&#34;\u003eAucun filtre actif\u003c/span\u003e\n                \u003cspan ng-if=\&#34;depts.parameters[&#39;refine.reg_code&#39;]\&#34;\u003eFiltre actif : reg_code = {{ depts.parameters[&#39;refine.reg_code&#39;] }}\u003c/span\u003e\n                \u003cspan ng-if=\&#34;depts.parameters[&#39;refine.dep_code&#39;]\&#34;\u003e\u003cbr/\u003eFiltre actif: dep_code = {{ depts.parameters[&#39;refine.dep_code&#39;] }}\u003c/span\u003e\n            \u003c/h4\u003e\n            \u003ch2\u003e\n                Jeu de données commune\n            \u003c/h2\u003e\n            \u003ch4\u003e\n                \u003cspan ng-if=\&#34;!comm.parameters[&#39;refine.dep_code&#39;]\&#34;\u003eAucun filtre actif\u003c/span\u003e\n                \u003cspan ng-if=\&#34;comm.parameters[&#39;refine.dep_code&#39;]\&#34;\u003eFiltre actif : dep_code = {{ comm.parameters[&#39;refine.dep_code&#39;] }}\u003c/span\u003e\n            \u003c/h4\u003e\n        \u003c/div\u003e\n    \u003c/ods-dataset-context\u003e\n\u003c/div\u003e\n\u003c/div\u003e&#34;,
               "css": &#34;&#34; }'>
    </form>
</div>

<div class="ods-content">
    <section class="box box-live-example">
        <iframe id="iframe-ods-maps-tricks-2"
                width="100%" height="100%"
                src="about:blank"
                srcdoc="
          <head>&lt;link rel=&#34;stylesheet&#34; href=&#34;https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css&#34;&gt;
&lt;link rel=&#34;stylesheet&#34; href=&#34;https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css&#34;&gt;
&lt;link rel=&#34;stylesheet&#34; href=&#34;https://static.opendatasoft.com/ods-widgets/latest/ods-widgets.css&#34;&gt;

&lt;!-- ODS Platform CSS - must be hosted on static : WIP --&gt;
&lt;link rel=&#34;stylesheet&#34; href=&#34;https://s3-us-west-2.amazonaws.com/s.cdpn.io/4124551/ods.css&#34;&gt;
&lt;link rel=&#34;stylesheet&#34; href=&#34;/css/theme.css&#34;&gt;

&lt;script src=&#34;https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.4.7/angular.js&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.4.7/angular-sanitize.min.js&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.4.7/i18n/angular-locale_fr-fr.js&#34;&gt;&lt;/script&gt;
&lt;script type=&#34;text/javascript&#34; src=&#34;https://static.opendatasoft.com/ods-widgets/latest/ods-widgets.js&#34;&gt;&lt;/script&gt;

&lt;script type=&#34;text/javascript&#34; src=&#34;/js/platform-filters.js&#34;&gt;&lt;/script&gt;
&lt;script type=&#34;text/javascript&#34; src=&#34;/js/ods-catalog-card.js&#34;&gt;&lt;/script&gt;

&lt;script type=&#34;text/javascript&#34;&gt;
    angular.module(&#39;ods-widgets&#39;).config(function(ODSWidgetsConfigProvider) {
        ODSWidgetsConfigProvider.setConfig({
            &#34;basemaps&#34;: [
                {
                    &#34;provider&#34;: &#34;jawg.light&#34;,
                    &#34;label&#34;: &#34;Jawg Light&#34;,
                    &#34;jawg_apikey&#34;: &#34;opendatasoft-community&#34;
                }
            ],
            &#34;mapPrependAttribution&#34;: &#34;Jawg apikey NOT suitable for production&#34;
        });
    });
&lt;/script&gt;

&lt;script type=&#34;text/javascript&#34;&gt;
    document.addEventListener(&#34;DOMContentLoaded&#34;, function() {
        document.querySelectorAll(&#39;a[href=&#34;#&#34;]&#39;).forEach((el) =&gt; {
            el.addEventListener(&#39;click&#39;, (event) =&gt; {
                event.preventDefault();
            });
        })
    });
&lt;/script&gt;

          </head>
          <body>
          <div ng-app='ods-widgets'>
              &lt;div class=&#34;row ods-box&#34;&gt;
    &lt;ods-dataset-context context=&#34;regions,depts,comm&#34;
                         regions-domain=&#34;userclub&#34;
                         regions-dataset=&#34;regions-et-collectivites-doutre-mer-france&#34;
                         depts-domain=&#34;userclub&#34;
                         depts-dataset=&#34;departements-et-collectivites-doutre-mer-france&#34;
                         comm-domain=&#34;userclub&#34;
                         comm-dataset=&#34;communes-et-arrondissements-municipaux-france&#34;&gt;
        &lt;div class=&#34;col-md-8&#34;&gt;
            &lt;ods-map style=&#34;height:560px&#34; scroll-wheel-zoom=&#34;false&#34;&gt;
                &lt;ods-map-layer context=&#34;regions&#34;
                               refine-on-click-context=&#34;[regions,depts]&#34;
                               refine-on-click-regions-map-field=&#34;reg_code&#34;
                               refine-on-click-regions-context-field=&#34;reg_code&#34;
                               refine-on-click-depts-map-field=&#34;reg_code&#34;
                               refine-on-click-depts-context-field=&#34;reg_code&#34;
                               color=&#34;#3D3D3D&#34;
                               show-if=&#34;!regions.parameters[&#39;refine.reg_code&#39;]&#34;&gt;
                &lt;/ods-map-layer&gt;
                &lt;ods-map-layer context=&#34;depts&#34;
                               refine-on-click-context=&#34;[depts,comm]&#34;
                               refine-on-click-depts-map-field=&#34;dep_code&#34;
                               refine-on-click-depts-context-field=&#34;dep_code&#34;
                               refine-on-click-comm-map-field=&#34;dep_code&#34;
                               refine-on-click-comm-context-field=&#34;dep_code&#34;
                               color=&#34;#3D3D3D&#34;
                               show-if=&#34;depts.parameters[&#39;refine.reg_code&#39;] &amp;&amp; !comm.parameters[&#39;refine.dep_code&#39;]&#34;&gt;
                &lt;/ods-map-layer&gt;
                &lt;ods-map-layer context=&#34;comm&#34;
                               show-if=&#34;comm.parameters[&#39;refine.dep_code&#39;]&#34;&gt;
                &lt;/ods-map-layer&gt;
            &lt;/ods-map&gt;
        &lt;/div&gt;
        &lt;div class=&#34;col-md-4&#34;&gt;
              &lt;span class=&#34;ods-button&#34; ng-click=&#34;comm.parameters = {}; depts.parameters = {}; regions.parameters = {};&#34;&gt;
                  Supprimer tous les filtres
              &lt;/span&gt;
            &lt;h2&gt;
                Jeu de données région
            &lt;/h2&gt;
            &lt;h4&gt;
                &lt;span ng-if=&#34;!regions.parameters[&#39;refine.reg_code&#39;]&#34;&gt;Aucun filtre actif&lt;/span&gt;
                &lt;span ng-if=&#34;regions.parameters[&#39;refine.reg_code&#39;]&#34;&gt;Filtre actif : reg_code = {{ regions.parameters[&#39;refine.reg_code&#39;] }}&lt;/span&gt;
            &lt;/h4&gt;
            &lt;h2&gt;
                Jeu de données département
            &lt;/h2&gt;
            &lt;h4&gt;
                &lt;span ng-if=&#34;!(depts.parameters[&#39;refine.dep_code&#39;] || depts.parameters[&#39;refine.reg_code&#39;])&#34;&gt;Aucun filtre actif&lt;/span&gt;
                &lt;span ng-if=&#34;depts.parameters[&#39;refine.reg_code&#39;]&#34;&gt;Filtre actif : reg_code = {{ depts.parameters[&#39;refine.reg_code&#39;] }}&lt;/span&gt;
                &lt;span ng-if=&#34;depts.parameters[&#39;refine.dep_code&#39;]&#34;&gt;&lt;br/&gt;Filtre actif: dep_code = {{ depts.parameters[&#39;refine.dep_code&#39;] }}&lt;/span&gt;
            &lt;/h4&gt;
            &lt;h2&gt;
                Jeu de données commune
            &lt;/h2&gt;
            &lt;h4&gt;
                &lt;span ng-if=&#34;!comm.parameters[&#39;refine.dep_code&#39;]&#34;&gt;Aucun filtre actif&lt;/span&gt;
                &lt;span ng-if=&#34;comm.parameters[&#39;refine.dep_code&#39;]&#34;&gt;Filtre actif : dep_code = {{ comm.parameters[&#39;refine.dep_code&#39;] }}&lt;/span&gt;
            &lt;/h4&gt;
        &lt;/div&gt;
    &lt;/ods-dataset-context&gt;
&lt;/div&gt;

          </div>
          <style type='text/css'>
              
          </style>
          </body>
          ">
        </iframe>
    </section>

    <section class="box box-code js-tabs">
        <nav class="level">
            <div class="level-left">
                <div class="level-item">
                    <ul class="buttons has-addons js-tablist">
                        <li class="button is-primary is-outlined js-tablist__item">
                            <a class="js-tablist__link"
                               href="#code-ods-maps-tricks-2-html-content">
                                HTML
                            </a>
                        </li>
                        <li class="button is-primary is-outlined js-tablist__item">
                            <a class="js-tablist__link"
                               href="#code-ods-maps-tricks-2-css-content">
                                CSS
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="level-right">
                <a class="button is-primary is-outlined edit-on-codepen"
                   target="_blank"
                   aria-role="link"
                   rel="noopener"
                   title="Edit on CodePen, open a new tab"
                   onclick="document.getElementById('form-ods-maps-tricks-2').submit()">
                    Edit on CodePen
                </a>
            </div>
        </nav>


        <div class="tab-content">
            <div class="js-tabcontent"
                 id="code-ods-maps-tricks-2-html-content">
                <div class="highlight">
                    <pre class="language-html" data-lang="html"><code>&lt;div class=&#34;row ods-box&#34;&gt;
    &lt;ods-dataset-context context=&#34;regions,depts,comm&#34;
                         regions-domain=&#34;userclub&#34;
                         regions-dataset=&#34;regions-et-collectivites-doutre-mer-france&#34;
                         depts-domain=&#34;userclub&#34;
                         depts-dataset=&#34;departements-et-collectivites-doutre-mer-france&#34;
                         comm-domain=&#34;userclub&#34;
                         comm-dataset=&#34;communes-et-arrondissements-municipaux-france&#34;&gt;
        &lt;div class=&#34;col-md-8&#34;&gt;
            &lt;ods-map style=&#34;height:560px&#34; scroll-wheel-zoom=&#34;false&#34;&gt;
                &lt;ods-map-layer context=&#34;regions&#34;
                               refine-on-click-context=&#34;[regions,depts]&#34;
                               refine-on-click-regions-map-field=&#34;reg_code&#34;
                               refine-on-click-regions-context-field=&#34;reg_code&#34;
                               refine-on-click-depts-map-field=&#34;reg_code&#34;
                               refine-on-click-depts-context-field=&#34;reg_code&#34;
                               color=&#34;#3D3D3D&#34;
                               show-if=&#34;!regions.parameters[&#39;refine.reg_code&#39;]&#34;&gt;
                &lt;/ods-map-layer&gt;
                &lt;ods-map-layer context=&#34;depts&#34;
                               refine-on-click-context=&#34;[depts,comm]&#34;
                               refine-on-click-depts-map-field=&#34;dep_code&#34;
                               refine-on-click-depts-context-field=&#34;dep_code&#34;
                               refine-on-click-comm-map-field=&#34;dep_code&#34;
                               refine-on-click-comm-context-field=&#34;dep_code&#34;
                               color=&#34;#3D3D3D&#34;
                               show-if=&#34;depts.parameters[&#39;refine.reg_code&#39;] &amp;&amp; !comm.parameters[&#39;refine.dep_code&#39;]&#34;&gt;
                &lt;/ods-map-layer&gt;
                &lt;ods-map-layer context=&#34;comm&#34;
                               show-if=&#34;comm.parameters[&#39;refine.dep_code&#39;]&#34;&gt;
                &lt;/ods-map-layer&gt;
            &lt;/ods-map&gt;
        &lt;/div&gt;
        &lt;div class=&#34;col-md-4&#34;&gt;
              &lt;span class=&#34;ods-button&#34; ng-click=&#34;comm.parameters = {}; depts.parameters = {}; regions.parameters = {};&#34;&gt;
                  Supprimer tous les filtres
              &lt;/span&gt;
            &lt;h2&gt;
                Jeu de données région
            &lt;/h2&gt;
            &lt;h4&gt;
                &lt;span ng-if=&#34;!regions.parameters[&#39;refine.reg_code&#39;]&#34;&gt;Aucun filtre actif&lt;/span&gt;
                &lt;span ng-if=&#34;regions.parameters[&#39;refine.reg_code&#39;]&#34;&gt;Filtre actif : reg_code = {{ regions.parameters[&#39;refine.reg_code&#39;] }}&lt;/span&gt;
            &lt;/h4&gt;
            &lt;h2&gt;
                Jeu de données département
            &lt;/h2&gt;
            &lt;h4&gt;
                &lt;span ng-if=&#34;!(depts.parameters[&#39;refine.dep_code&#39;] || depts.parameters[&#39;refine.reg_code&#39;])&#34;&gt;Aucun filtre actif&lt;/span&gt;
                &lt;span ng-if=&#34;depts.parameters[&#39;refine.reg_code&#39;]&#34;&gt;Filtre actif : reg_code = {{ depts.parameters[&#39;refine.reg_code&#39;] }}&lt;/span&gt;
                &lt;span ng-if=&#34;depts.parameters[&#39;refine.dep_code&#39;]&#34;&gt;&lt;br/&gt;Filtre actif: dep_code = {{ depts.parameters[&#39;refine.dep_code&#39;] }}&lt;/span&gt;
            &lt;/h4&gt;
            &lt;h2&gt;
                Jeu de données commune
            &lt;/h2&gt;
            &lt;h4&gt;
                &lt;span ng-if=&#34;!comm.parameters[&#39;refine.dep_code&#39;]&#34;&gt;Aucun filtre actif&lt;/span&gt;
                &lt;span ng-if=&#34;comm.parameters[&#39;refine.dep_code&#39;]&#34;&gt;Filtre actif : dep_code = {{ comm.parameters[&#39;refine.dep_code&#39;] }}&lt;/span&gt;
            &lt;/h4&gt;
        &lt;/div&gt;
    &lt;/ods-dataset-context&gt;
&lt;/div&gt;
</code></pre>
                </div>
            </div>
            <div class="js-tabcontent"
                 id="code-ods-maps-tricks-2-css-content">
                <div class="highlight">
                    <pre class="language-css" data-lang="css"><code></code></pre>
                </div>
            </div>
        </div>
    </section>
</div>

<script type="text/javascript">
    window.addEventListener("DOMContentLoaded", () => {
        var loopId = setInterval(() => {
            iframeId = "iframe-ods-maps-tricks-2";
            iframe = document.getElementById(iframeId);
             
            size =  null 
             
            if (iframe != undefined && iframe.contentWindow.document.body != undefined){
                scrollHeight = parseInt(iframe.contentWindow.document.body.scrollHeight);
                if (iframe.height == size) {
                    clearInterval(loopId);
                } else {
                    iframe.height = size > 1 ? size : scrollHeight;
                }
            }
        }, 1000);
    });
</script>

        </div>
    </div>
    
    <div class="container">
        <div class="box box-example">
          <div class="content">
            <h2 class="title" id="dynamic-map-by-zoom-level">
  Dynamic map by zoom level
  
    <a class="is-link" href="#dynamic-map-by-zoom-level">
      <img src="/img/fas-link.svg" />
    </a>
  
</h2>
<p>In this example, the French administrative regions, departments and cities are displayed in a specific zoom range.
Regions from the minimum to 6, Departments from 7 to 8, Cities from 9 to the maximum</p>
<p><em>You can also configure layers to only be visible between certain zoom levels, using <strong>show-zoom-min</strong>, <strong>show-zoom-max</strong>, or both.</em></p>

          </div>
          


<div class="codepen">
    
    
    

    <form id="form-ods-maps-tricks-3"
          action="https://codepen.io/pen/define"
          method="POST"
          target="_blank">
        <input type="hidden"
               name="data"
               value='{
               "title": "New Pen!",
               "head": &#34;\u003clink rel=\&#34;stylesheet\&#34; href=\&#34;https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css\&#34;\u003e\n\u003clink rel=\&#34;stylesheet\&#34; href=\&#34;https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css\&#34;\u003e\n\u003clink rel=\&#34;stylesheet\&#34; href=\&#34;https://static.opendatasoft.com/ods-widgets/latest/ods-widgets.css\&#34;\u003e\n\n\u003c!-- ODS Platform CSS - must be hosted on static : WIP --\u003e\n\u003clink rel=\&#34;stylesheet\&#34; href=\&#34;https://s3-us-west-2.amazonaws.com/s.cdpn.io/4124551/ods.css\&#34;\u003e\n\u003clink rel=\&#34;stylesheet\&#34; href=\&#34;/css/theme.css\&#34;\u003e\n\n\u003cscript src=\&#34;https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js\&#34;\u003e\u003c/script\u003e\n\u003cscript src=\&#34;https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.4.7/angular.js\&#34;\u003e\u003c/script\u003e\n\u003cscript src=\&#34;https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.4.7/angular-sanitize.min.js\&#34;\u003e\u003c/script\u003e\n\u003cscript src=\&#34;https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.4.7/i18n/angular-locale_fr-fr.js\&#34;\u003e\u003c/script\u003e\n\u003cscript type=\&#34;text/javascript\&#34; src=\&#34;https://static.opendatasoft.com/ods-widgets/latest/ods-widgets.js\&#34;\u003e\u003c/script\u003e\n\n\u003cscript type=\&#34;text/javascript\&#34; src=\&#34;/js/platform-filters.js\&#34;\u003e\u003c/script\u003e\n\u003cscript type=\&#34;text/javascript\&#34; src=\&#34;/js/ods-catalog-card.js\&#34;\u003e\u003c/script\u003e\n\n\u003cscript type=\&#34;text/javascript\&#34;\u003e\n    angular.module(&#39;ods-widgets&#39;).config(function(ODSWidgetsConfigProvider) {\n        ODSWidgetsConfigProvider.setConfig({\n            \&#34;basemaps\&#34;: [\n                {\n                    \&#34;provider\&#34;: \&#34;jawg.light\&#34;,\n                    \&#34;label\&#34;: \&#34;Jawg Light\&#34;,\n                    \&#34;jawg_apikey\&#34;: \&#34;opendatasoft-community\&#34;\n                }\n            ],\n            \&#34;mapPrependAttribution\&#34;: \&#34;Jawg apikey NOT suitable for production\&#34;\n        });\n    });\n\u003c/script\u003e\n\n\u003cscript type=\&#34;text/javascript\&#34;\u003e\n    document.addEventListener(\&#34;DOMContentLoaded\&#34;, function() {\n        document.querySelectorAll(&#39;a[href=\&#34;#\&#34;]&#39;).forEach((el) =\u003e {\n            el.addEventListener(&#39;click&#39;, (event) =\u003e {\n                event.preventDefault();\n            });\n        })\n    });\n\u003c/script\u003e\n&#34;,
               "editors": 110,
               "html": &#34;\u003cdiv ng-app=\&#34;ods-widgets\&#34;\u003e\n\u003cods-dataset-context context=\&#34;regions,depts,comm\&#34;\n                     regions-domain=\&#34;userclub\&#34;\n                     regions-dataset=\&#34;regions-et-collectivites-doutre-mer-france\&#34;\n                     depts-domain=\&#34;userclub\&#34;\n                     depts-dataset=\&#34;departements-et-collectivites-doutre-mer-france\&#34;\n                     comm-domain=\&#34;userclub\&#34;\n                     comm-dataset=\&#34;communes-et-arrondissements-municipaux-france\&#34;\u003e\n    \u003cods-map location=\&#34;5,44.73113,4.21875\&#34; style=\&#34;height:560px\&#34;\u003e\n        \u003cods-map-layer context=\&#34;regions\&#34;\n                       color=\&#34;#3D3D3D\&#34;\n                       show-zoom-max=\&#34;6\&#34;\u003e\n        \u003c/ods-map-layer\u003e\n        \u003cods-map-layer context=\&#34;depts\&#34;\n                       color=\&#34;#3D3D3D\&#34;\n                       show-zoom-min=\&#34;7\&#34;\n                       show-zoom-max=\&#34;8\&#34;\u003e\n        \u003c/ods-map-layer\u003e\n        \u003cods-map-layer context=\&#34;comm\&#34;\n                       color=\&#34;#c0c0c0\&#34;\n                       show-zoom-min=\&#34;9\&#34;\u003e\n        \u003c/ods-map-layer\u003e\n    \u003c/ods-map\u003e\n\u003c/ods-dataset-context\u003e\n\u003c/div\u003e&#34;,
               "css": &#34;&#34; }'>
    </form>
</div>

<div class="ods-content">
    <section class="box box-live-example">
        <iframe id="iframe-ods-maps-tricks-3"
                width="100%" height="100%"
                src="about:blank"
                srcdoc="
          <head>&lt;link rel=&#34;stylesheet&#34; href=&#34;https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css&#34;&gt;
&lt;link rel=&#34;stylesheet&#34; href=&#34;https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css&#34;&gt;
&lt;link rel=&#34;stylesheet&#34; href=&#34;https://static.opendatasoft.com/ods-widgets/latest/ods-widgets.css&#34;&gt;

&lt;!-- ODS Platform CSS - must be hosted on static : WIP --&gt;
&lt;link rel=&#34;stylesheet&#34; href=&#34;https://s3-us-west-2.amazonaws.com/s.cdpn.io/4124551/ods.css&#34;&gt;
&lt;link rel=&#34;stylesheet&#34; href=&#34;/css/theme.css&#34;&gt;

&lt;script src=&#34;https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.4.7/angular.js&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.4.7/angular-sanitize.min.js&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.4.7/i18n/angular-locale_fr-fr.js&#34;&gt;&lt;/script&gt;
&lt;script type=&#34;text/javascript&#34; src=&#34;https://static.opendatasoft.com/ods-widgets/latest/ods-widgets.js&#34;&gt;&lt;/script&gt;

&lt;script type=&#34;text/javascript&#34; src=&#34;/js/platform-filters.js&#34;&gt;&lt;/script&gt;
&lt;script type=&#34;text/javascript&#34; src=&#34;/js/ods-catalog-card.js&#34;&gt;&lt;/script&gt;

&lt;script type=&#34;text/javascript&#34;&gt;
    angular.module(&#39;ods-widgets&#39;).config(function(ODSWidgetsConfigProvider) {
        ODSWidgetsConfigProvider.setConfig({
            &#34;basemaps&#34;: [
                {
                    &#34;provider&#34;: &#34;jawg.light&#34;,
                    &#34;label&#34;: &#34;Jawg Light&#34;,
                    &#34;jawg_apikey&#34;: &#34;opendatasoft-community&#34;
                }
            ],
            &#34;mapPrependAttribution&#34;: &#34;Jawg apikey NOT suitable for production&#34;
        });
    });
&lt;/script&gt;

&lt;script type=&#34;text/javascript&#34;&gt;
    document.addEventListener(&#34;DOMContentLoaded&#34;, function() {
        document.querySelectorAll(&#39;a[href=&#34;#&#34;]&#39;).forEach((el) =&gt; {
            el.addEventListener(&#39;click&#39;, (event) =&gt; {
                event.preventDefault();
            });
        })
    });
&lt;/script&gt;

          </head>
          <body>
          <div ng-app='ods-widgets'>
              &lt;ods-dataset-context context=&#34;regions,depts,comm&#34;
                     regions-domain=&#34;userclub&#34;
                     regions-dataset=&#34;regions-et-collectivites-doutre-mer-france&#34;
                     depts-domain=&#34;userclub&#34;
                     depts-dataset=&#34;departements-et-collectivites-doutre-mer-france&#34;
                     comm-domain=&#34;userclub&#34;
                     comm-dataset=&#34;communes-et-arrondissements-municipaux-france&#34;&gt;
    &lt;ods-map location=&#34;5,44.73113,4.21875&#34; style=&#34;height:560px&#34;&gt;
        &lt;ods-map-layer context=&#34;regions&#34;
                       color=&#34;#3D3D3D&#34;
                       show-zoom-max=&#34;6&#34;&gt;
        &lt;/ods-map-layer&gt;
        &lt;ods-map-layer context=&#34;depts&#34;
                       color=&#34;#3D3D3D&#34;
                       show-zoom-min=&#34;7&#34;
                       show-zoom-max=&#34;8&#34;&gt;
        &lt;/ods-map-layer&gt;
        &lt;ods-map-layer context=&#34;comm&#34;
                       color=&#34;#c0c0c0&#34;
                       show-zoom-min=&#34;9&#34;&gt;
        &lt;/ods-map-layer&gt;
    &lt;/ods-map&gt;
&lt;/ods-dataset-context&gt;

          </div>
          <style type='text/css'>
              
          </style>
          </body>
          ">
        </iframe>
    </section>

    <section class="box box-code js-tabs">
        <nav class="level">
            <div class="level-left">
                <div class="level-item">
                    <ul class="buttons has-addons js-tablist">
                        <li class="button is-primary is-outlined js-tablist__item">
                            <a class="js-tablist__link"
                               href="#code-ods-maps-tricks-3-html-content">
                                HTML
                            </a>
                        </li>
                        <li class="button is-primary is-outlined js-tablist__item">
                            <a class="js-tablist__link"
                               href="#code-ods-maps-tricks-3-css-content">
                                CSS
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="level-right">
                <a class="button is-primary is-outlined edit-on-codepen"
                   target="_blank"
                   aria-role="link"
                   rel="noopener"
                   title="Edit on CodePen, open a new tab"
                   onclick="document.getElementById('form-ods-maps-tricks-3').submit()">
                    Edit on CodePen
                </a>
            </div>
        </nav>


        <div class="tab-content">
            <div class="js-tabcontent"
                 id="code-ods-maps-tricks-3-html-content">
                <div class="highlight">
                    <pre class="language-html" data-lang="html"><code>&lt;ods-dataset-context context=&#34;regions,depts,comm&#34;
                     regions-domain=&#34;userclub&#34;
                     regions-dataset=&#34;regions-et-collectivites-doutre-mer-france&#34;
                     depts-domain=&#34;userclub&#34;
                     depts-dataset=&#34;departements-et-collectivites-doutre-mer-france&#34;
                     comm-domain=&#34;userclub&#34;
                     comm-dataset=&#34;communes-et-arrondissements-municipaux-france&#34;&gt;
    &lt;ods-map location=&#34;5,44.73113,4.21875&#34; style=&#34;height:560px&#34;&gt;
        &lt;ods-map-layer context=&#34;regions&#34;
                       color=&#34;#3D3D3D&#34;
                       show-zoom-max=&#34;6&#34;&gt;
        &lt;/ods-map-layer&gt;
        &lt;ods-map-layer context=&#34;depts&#34;
                       color=&#34;#3D3D3D&#34;
                       show-zoom-min=&#34;7&#34;
                       show-zoom-max=&#34;8&#34;&gt;
        &lt;/ods-map-layer&gt;
        &lt;ods-map-layer context=&#34;comm&#34;
                       color=&#34;#c0c0c0&#34;
                       show-zoom-min=&#34;9&#34;&gt;
        &lt;/ods-map-layer&gt;
    &lt;/ods-map&gt;
&lt;/ods-dataset-context&gt;
</code></pre>
                </div>
            </div>
            <div class="js-tabcontent"
                 id="code-ods-maps-tricks-3-css-content">
                <div class="highlight">
                    <pre class="language-css" data-lang="css"><code></code></pre>
                </div>
            </div>
        </div>
    </section>
</div>

<script type="text/javascript">
    window.addEventListener("DOMContentLoaded", () => {
        var loopId = setInterval(() => {
            iframeId = "iframe-ods-maps-tricks-3";
            iframe = document.getElementById(iframeId);
             
            size =  null 
             
            if (iframe != undefined && iframe.contentWindow.document.body != undefined){
                scrollHeight = parseInt(iframe.contentWindow.document.body.scrollHeight);
                if (iframe.height == size) {
                    clearInterval(loopId);
                } else {
                    iframe.height = size > 1 ? size : scrollHeight;
                }
            }
        }, 1000);
    });
</script>

        </div>
    </div>
    
</section>


    </div>
</div>

<footer class="footer">
    <a href="https://www.opendatasoft.com"
       class="footer-link"
       title="Opendatasoft website">
        <img src="/img/ods-logo.svg"
             class="footer-logo"
             alt="Opendatasoft logo"
        />
    </a>
    <span class="footer-copyright">
        &copy; Copyright 2020
    </span>
</footer>







<script>var process = { "env": { "NODE_ENV": "production" } }</script>
<script type="text/javascript"
        src="/index.min.11fcc0d6f8a0b04671eb0a5fb2bb06b89618c60744ea73effdb557ad43fd44a6.js"
        defer></script>

</body>
</html>
